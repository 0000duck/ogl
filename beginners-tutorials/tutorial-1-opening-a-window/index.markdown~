---
layout: page
status: publish
published: true
title: 'Tutorial 1 : Opening a window'
author:
  display_name: Calvin1602
  login: Calvin1602
  email: arnaud1602@gmail.com
  url: ''
author_login: Calvin1602
author_email: arnaud1602@gmail.com
wordpress_id: 7
wordpress_url: http://www.dreamyourgame.com/wordpress/?page_id=7
date: '2011-04-07 17:54:16 +0200'
date_gmt: '2011-04-07 17:54:16 +0200'
categories: []
tags: []
---
<h1>Introduction<&#47;h1><br />
Welcome to the first tutorial !</p>
<p>Before jumping into OpenGL, you will first learn how to build the code that goes with each tutorial, how to run it, and most importantly, how to play with the code yourself.</p>
<h1>Prerequisites<&#47;h1><br />
No special prerequisite is needed to follow these tutorials. Experience with any programming langage ( C, Java, Lisp, Javascript, whatever ) is better to fully understand the code, but not needed ; it will merely be more complicated to learn two things at the same time.</p>
<p>All tutorials are written in "Easy C++" : Lots of effort has been made to make the code as simple as possible. No templates, no classes, no pointers. This way, you will be able to understand everything even if you only know Java.</p>
<h1>Forget Everything<&#47;h1><br />
You don't have to know anything, but you have to forget everything you know about OpenGL.<br />
If you know about something that looks like glBegin(), forget it. Here you will learn modern OpenGL (OpenGL 3 and 4) , and most online tutorials teach "old" OpenGL (OpenGL 1 and 2). So forget everything you might know before your brain melts from the mix.</p>
<h1>Building the tutorials<&#47;h1><br />
All tutorials can be built on Windows, Linux and Mac. For all these platforms, the procedure is roughly the same :</p>
<ol>
<li><strong>update your drivers<&#47;strong> !! doooo it. You've been warned.<&#47;li>
<li>Download a compiler, if you don't already have one.<&#47;li>
<li>Install CMake<&#47;li>
<li>Download the source code of the tutorials<&#47;li>
<li>Generate a project using CMake<&#47;li>
<li>Build the project<&#47;li>
<li>Play with the samples !<&#47;li><br />
<&#47;ol><br />
Detailed procedures will now be given for each platform. Adaptations may be required. If unsure, read the instruction for Windows and try to adapt them.</p>
<h2>Building on Windows<&#47;h2><br />
&nbsp;</p>
<ol>
<li>Updating your drivers shoud be easy. Just go to NVIDIA's or AMD's website and download the drivers. If unsure about your GPU model : Control Panel -> System and Security -> System -> Device Manager -> Display adapter. If you have an integrated Intel GPU, drivers are usually provided by your OEM (Dell, HP, ...).<&#47;li>
<li>We suggest using Visual Studio 2010 Express as a compiler. You can download it for free <a href="http:&#47;&#47;www.microsoft.com&#47;express&#47;Downloads&#47;#2010-Visual-CPP" target="_blank">here<&#47;a>. If you prefer using MinGW, we recommend using <a href="http:&#47;&#47;qt-project.org&#47;">Qt Creator<&#47;a>. Install whichever you want. Subsequent steps will be explained with Visual Studio, but should be similar with any other IDE.<&#47;li>
<li>Download <a href="http:&#47;&#47;www.cmake.org&#47;cmake&#47;resources&#47;software.html" target="_blank">CMake <&#47;a>from here and install it<&#47;li>
<li><a title="Download" href="http:&#47;&#47;www.opengl-tutorial.org&#47;download&#47;" target="_blank">Download the source code<&#47;a> and unzip it, for instance in C:\Users\XYZ\Projects\OpenGLTutorials\ .<&#47;li>
<li>Launch CMake. In the first line, navigate to the unzipped folder. If unsure, choose the folder that contains the CMakeLists.txt file. In the second line, enter where you want all the compiler's stuff to live. For instance, you can choose C:\Users\XYZ\Projects\OpenGLTutorials-build-Visual2010-32bits\, or C:\Users\XYZ\Projects\OpenGLTutorials\build\Visual2010-32bits\. Notice that it can be anywhere, not necessarily in the same folder.<br />
<a href="http:&#47;&#47;www.opengl-tutorial.org&#47;wp-content&#47;uploads&#47;2011&#47;04&#47;CMake.png"><img class="alignnone size-medium wp-image-8" title="CMake" src="http:&#47;&#47;www.opengl-tutorial.org&#47;wp-content&#47;uploads&#47;2011&#47;04&#47;CMake.png" alt="" width="846" height="392" &#47;><&#47;a><&#47;li></p>
<li>Click on the Configure button. Since this is the first time you configure the project, CMake will ask you which compiler you would like to use. Choose wisely depending on step 1. If you have a 64 bit Windows, you can choose 64 bits; if you don't know, choose 32 bits.<&#47;li>
<li>Click on Configure until all red lines disappear. Click on Generate. Your Visual Studio project is now created. You can forget about CMake; uninstall it if you want.<&#47;li>
<li>Open C:\Users\XYZ\Projects\OpenGLTutorials-build-Visual2010-32bits\. You will see a Tutorials.sln file : open it with Visual Studio.<br />
<a href="http:&#47;&#47;www.opengl-tutorial.org&#47;wp-content&#47;uploads&#47;2011&#47;04&#47;directories.png"><img class="alignnone size-medium wp-image-9" title="directories" src="http:&#47;&#47;www.opengl-tutorial.org&#47;wp-content&#47;uploads&#47;2011&#47;04&#47;directories.png" alt="" width="560" height="302" &#47;><&#47;a><br />
In the <em>Build<&#47;em> menu, click <em>Build All<&#47;em>. Every tutorial and dependency will be compiled. Each executable will also be copied back into C:\Users\XYZ\Projects\OpenGLTutorials\ . Hopefuly no error occurs.<br />
<a href="http:&#47;&#47;www.opengl-tutorial.org&#47;wp-content&#47;uploads&#47;2011&#47;04&#47;visual_2010.png"><img class="alignnone size-medium wp-image-11" title="visual_2010" src="http:&#47;&#47;www.opengl-tutorial.org&#47;wp-content&#47;uploads&#47;2011&#47;04&#47;visual_2010-300x212.png" alt="" width="300" height="212" &#47;><&#47;a><&#47;li></p>
<li>Open C:\Users\XYZ\Projects\OpenGLTutorials\playground, and launch playground.exe. A black window should appear.<br />
<a href="http:&#47;&#47;www.opengl-tutorial.org&#47;wp-content&#47;uploads&#47;2011&#47;04&#47;empty_window.png"><img class="alignnone size-medium wp-image-10" title="empty_window" src="http:&#47;&#47;www.opengl-tutorial.org&#47;wp-content&#47;uploads&#47;2011&#47;04&#47;empty_window-300x231.png" alt="" width="300" height="231" &#47;><&#47;a><&#47;li><br />
<&#47;ol><br />
You can also launch any tutorial from inside Visual Studio. Right-click on Playground once, "Choose as startup project". You can now debug the code by pressing F5.</p>
<p><a href="http:&#47;&#47;www.opengl-tutorial.org&#47;wp-content&#47;uploads&#47;2011&#47;04&#47;WorkingDir.png"><img class="size-medium wp-image-546 alignnone" title="WorkingDir" src="http:&#47;&#47;www.opengl-tutorial.org&#47;wp-content&#47;uploads&#47;2011&#47;04&#47;WorkingDir-300x211.png" alt="" width="300" height="211" &#47;><&#47;a><a href="http:&#47;&#47;www.opengl-tutorial.org&#47;wp-content&#47;uploads&#47;2012&#47;04&#47;StartupProject.png"><img class="size-medium wp-image-544 alignright" title="StartupProject" src="http:&#47;&#47;www.opengl-tutorial.org&#47;wp-content&#47;uploads&#47;2012&#47;04&#47;StartupProject-185x300.png" alt="" width="185" height="300" &#47;><&#47;a></p>
<h2><&#47;h2></p>
<h2><&#47;h2></p>
<h2><&#47;h2></p>
<h2>Building on Linux<&#47;h2><br />
They are so many Linux variants out there that it's impossible to list every possible platform. Adapt if required, and don't hesitate to read your distribution's documentation.</p>
<p>&nbsp;</p>
<ol>
<li>Install the latest drivers. We highly recommend the closed-source binary drivers. It's not GNU or whatever, but they work. If your distribution doesn't provide an automatic install, try <a href="http:&#47;&#47;help.ubuntu.com&#47;community&#47;BinaryDriverHowto" target="_blank">Ubuntu's guide<&#47;a>.<&#47;li>
<li>Install all needed compilers, tools &amp; libs. Complete list is : <em>cmake make g++ libx11-dev libxi-dev libgl1-mesa-dev libglu1-mesa-dev libxrandr-dev libxext-dev<&#47;em> . Use sudo apt-get install ***** or su &amp;&amp; yum install ******.<&#47;li>
<li><a title="Download" href="http:&#47;&#47;www.opengl-tutorial.org&#47;download&#47;" target="_blank">Download the source code<&#47;a> and unzip it, for instance in ~&#47;Projects&#47;OpenGLTutorials&#47;<&#47;li>
<li>cd in ~&#47;Projects&#47;OpenGLTutorials&#47; and enter the following commands :
<ul>
<li>mkdir build<&#47;li>
<li>cd build<&#47;li>
<li>cmake ..<&#47;li><br />
<&#47;ul><br />
<&#47;li></p>
<li>A makefile has been created in the build&#47; directory.<&#47;li>
<li>type "make all". Every tutorial and dependency will be compiled. Each executable will also be copied back into ~&#47;Projects&#47;OpenGLTutorials&#47; . Hopefuly no error occurs.<&#47;li>
<li>Open ~&#47;Projects&#47;OpenGLTutorials&#47;playground, and launch .&#47;playground. A black window should appear.<&#47;li><br />
<&#47;ol><br />
Note that you really should use an IDE like <a href="http:&#47;&#47;qt-project.org&#47;">Qt Creator<&#47;a>. In particular, this one has built-in support for CMake, and it will provide a much nicer experience when debugging. Here are the instructions for QtCreator :</p>
<ol>
<li>In QtCreator, go to File->Tools->Options->Compile&amp;Execute->CMake<&#47;li>
<li>Set the path to CMake. This is most probably &#47;usr&#47;bin&#47;cmake<&#47;li>
<li>File->Open Project; Select tutorials&#47;CMakeLists.txt<&#47;li>
<li>Select a build directory, preferably outside the tutorials folder<&#47;li>
<li>Optionally set -DCMAKE_BUILD_TYPE=Debug in the parameters box. Validate.<&#47;li>
<li>Click on the hammer on the bottom. The tutorials can now be launched from the tutorials&#47; folder.<&#47;li>
<li>To run the tutorials from QtCreator, click on Projects->Execution parameters->Working Directory, and select the directory where the shaders, textures &amp; models live. Example for tutorial 2 : ~&#47;opengl-tutorial&#47;tutorial02_red_triangle&#47;<&#47;li><br />
<&#47;ol></p>
<h2>Building on Mac<&#47;h2><br />
Mac OS doesn't support OpenGL 3.3. Recent Macs with MacOS 10.7 Lion and compatible GPUs can run OpenGL 3.2, but not 3.3. Use the 2.1 port of the tutorials instead. Apart from that, the procedure is very similar to Windows' (Makefiles are also supported, but won't be explained here) :</p>
<ol>
<li>Install XCode from the Mac App Store<&#47;li>
<li><a href="http:&#47;&#47;www.cmake.org&#47;cmake&#47;resources&#47;software.html">Download CMake<&#47;a>, and install the .dmg . You don't need to install the command-line tools.<&#47;li>
<li><a title="Download" href="http:&#47;&#47;www.opengl-tutorial.org&#47;download&#47;" target="_blank">Download the source code<&#47;a> (VERSION 2.1 !!) and unzip it, for instance in ~&#47;Projects&#47;OpenGLTutorials&#47; .<&#47;li>
<li>Launch CMake (Applications->CMake). In the first line, navigate to the unzipped folder. If unsure, choose the folder that contains the CMakeLists.txt file. In the second line, enter where you want all the compiler's stuff to live. For instance, you can choose ~&#47;Projects&#47;OpenGLTutorials_bin_XCode&#47;. Notice that it can be anywhere, not necessarily in the same folder.<&#47;li>
<li>Click on the Configure button. Since this is the first time you configure the project, CMake will ask you which compiler you would like to use. Choose Xcode.<&#47;li>
<li>Click on Configure until all red lines disappear. Click on Generate. Your Xcode project is now created. You can forget about CMake; uninstall it if you want.<&#47;li>
<li>Open ~&#47;Projects&#47;OpenGLTutorials_bin_XCode&#47; . You will see a Tutorials.xcodeproj file : open it.<&#47;li>
<li>Select the desired tutorial to run in Xcode's Scheme panel, and use the Run button to compile &amp; run :<&#47;li><br />
<&#47;ol><br />
<a href="http:&#47;&#47;www.opengl-tutorial.org&#47;wp-content&#47;uploads&#47;2011&#47;04&#47;Xcode-projectselection.png"><img class="alignnone size-full wp-image-643" title="Xcode-projectselection" src="http:&#47;&#47;www.opengl-tutorial.org&#47;wp-content&#47;uploads&#47;2011&#47;04&#47;Xcode-projectselection.png" alt="" width="826" height="330" &#47;><&#47;a></p>
<h2>Note for Code::Blocks<&#47;h2><br />
Due to 2 bugs (one in C::B, one in CMake), you have to edit the command-line in Project->Build Options->Make commands, as follows :</p>
<p><a href="http:&#47;&#47;www.opengl-tutorial.org&#47;wp-content&#47;uploads&#47;2011&#47;04&#47;CodeBlocksFix.png"><img class="alignnone size-full wp-image-712" title="CodeBlocksFix" src="http:&#47;&#47;www.opengl-tutorial.org&#47;wp-content&#47;uploads&#47;2011&#47;04&#47;CodeBlocksFix.png" alt="" width="746" height="340" &#47;><&#47;a></p>
<p>You also have to setup the working directory yourself : Project->Properties -> Build targets -> tutorial N -> execution working dir ( it's src_dir&#47;tutorial_N&#47; ).</p>
<h1>Running the tutorials<&#47;h1><br />
You should run the tutorials directly from the right directory : simply double-click on the executable. If you like command line best, cd to the right directory.</p>
<p>If you want to run the tutorials from the IDE, don't forget to read the instructions above to set the correct working directory.</p>
<h1>How to follow these tutorials<&#47;h1><br />
Each tutorial comes with its source code and data, which can be found in tutorialXX&#47;. However, you will never modify these projects : they are for reference only. Open playground&#47;playground.cpp, and tweak this file instead. Torture it in any way you like. If you are lost, simply cut'n paste any tutorial in it, and everything should be back to normal.</p>
<p>We will provide snippets of code all along the tutorials. Don't hesitate to cut'n paste them directly in the playground while you're reading : experimentation is good. Avoid simply reading the finished code, you won't learn a lot this way. Even with simple cut'n pasting, you'll get your boatload of problems.</p>
<h1>Opening a window<&#47;h1><br />
Finally ! OpenGL code !<br />
Well, not really. All tutorials show you the "low level" way to do things, so that you can see that no magic happens. But this part is actually very boring and useless, so we will use GLFW, an external library, to do this for us instead. If you really wanted to, you could use the Win32 API on Windows, the X11 API on Linux, and the Cocoa API on Mac; or use another library like SFML, FreeGLUT, SDL, ... see the <a title="Useful Tools &amp; Links" href="http:&#47;&#47;www.opengl-tutorial.org&#47;miscellaneous&#47;useful-tools-links&#47;" target="_blank">Links<&#47;a> page.</p>
<p>Ok, let's go. First, we'll have to deal with dependencies : we need some basic stuff to display messages in the console :</p>
<pre class="brush:cpp">&#47;&#47; Include standard headers<br />
#include <stdio.h><br />
#include <stdlib.h><&#47;pre><br />
First, GLEW. So this one actually is a little bit magic, but let's leave this for later.</p>
<pre class="brush:cpp">&#47;&#47; Include GLEW. Always include it before gl.h and glfw.h, since it's a bit magic.<br />
#include <GL&#47;glew.h><&#47;pre><br />
We decided to let GLFW handle the window and the keyboard, so let's include it too :</p>
<pre class="brush: cpp">&#47;&#47; Include GLFW<br />
#include <GL&#47;glfw3.h><&#47;pre><br />
We don't actually need this one right now, but this is a library for 3D mathematics. It will prove very useful soon. There is no magic in GLM, you can write your own if you want; it's just handy. The "using namespace" is there to avoid typing "glm::vec3", but "vec3" instead.</p>
<pre class="brush: cpp">&#47;&#47; Include GLM<br />
#include <glm&#47;glm.hpp><br />
using namespace glm;<&#47;pre><br />
If you cut'n paste all these #include's in playground.cpp, the compiler will complain that there is no main() function. So let's create one :</p>
<pre class="brush: cpp">int main(){<&#47;pre><br />
First thing to do it to initialize GLFW :</p>
<pre class="brush: cpp">&#47;&#47; Initialise GLFW<br />
if( !glfwInit() )<br />
{<br />
    fprintf( stderr, "Failed to initialize GLFW\n" );<br />
    return -1;<br />
}<&#47;pre><br />
We can now create our first OpenGL window !</p>
<p>&nbsp;</p>
<pre class="brush: cpp">glfwWindowHint(GLFW_SAMPLES, 4); &#47;&#47; 4x antialiasing<br />
glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3); &#47;&#47; We want OpenGL 3.3<br />
glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 3);<br />
glfwWindowHint(GLFW_OPENGL_FORWARD_COMPAT, GL_TRUE); &#47;&#47; To make MacOS happy; should not be needed<br />
glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE); &#47;&#47;We don't want the old OpenGL </p>
<p>&#47;&#47; Open a window and create its OpenGL context<br />
GLFWwindow* window; &#47;&#47; (In the accompanying source code, this variable is global)<br />
window = glfwCreateWindow( 1024, 768, "Tutorial 01", NULL, NULL);<br />
if( window == NULL ){<br />
    fprintf( stderr, "Failed to open GLFW window. If you have an Intel GPU, they are not 3.3 compatible. Try the 2.1 version of the tutorials.\n" );<br />
    glfwTerminate();<br />
    return -1;<br />
}<br />
glfwMakeContextCurrent(window); &#47;&#47; Initialize GLEW<br />
glewExperimental=true; &#47;&#47; Needed in core profile<br />
if (glewInit() != GLEW_OK) {<br />
    fprintf(stderr, "Failed to initialize GLEW\n");<br />
    return -1;<br />
}<&#47;pre><br />
Build this and run. A window should appear, and be closed right away. Of course ! We need to wait until the user hits the Escape key :</p>
<pre class="brush: cpp">&#47;&#47; Ensure we can capture the escape key being pressed below<br />
glfwSetInputMode(window, GLFW_STICKY_KEYS, GL_TRUE);</p>
<p>do{<br />
    &#47;&#47; Draw nothing, see you in tutorial 2 !</p>
<p>    &#47;&#47; Swap buffers<br />
    glfwSwapBuffers(window);<br />
    glfwPollEvents();</p>
<p>} &#47;&#47; Check if the ESC key was pressed or the window was closed<br />
while( glfwGetKey(window, GLFW_KEY_ESCAPE ) != GLFW_PRESS &amp;&amp;<br />
glfwWindowShouldClose(window) == 0 );<&#47;pre><br />
And this concludes our first tutorial ! In Tutorial 2, you will learn how to actually draw a triangle.<br />
<script>&#47;&#47; <![CDATA[<br />
SyntaxHighlighter.all()<br />
&#47;&#47; ]]><&#47;script></p>
